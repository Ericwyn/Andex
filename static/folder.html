<!doctype html>
<html lang="zh-cmn-Hans">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no"/>
    <meta name="renderer" content="webkit"/>
    <meta name="force-rendering" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>

    <link rel="stylesheet" href="./css/mdui.css"/>
    <style>
        html, body{
            height: 100%;

        }
        .text-auto-wrap {
            word-break:normal;
            width:auto;
            display:block;
            /*white-space:pre-wrap;*/
            word-wrap : break-word ;
            overflow: hidden ;
            white-space:normal
            /*word-wrap:break-word*/
        }
    </style>
    <title>Andex云盘</title>
</head>
<body>
<div class="mdui-appbar">
    <div class="mdui-toolbar mdui-color-theme">
{{/*        <a href="javascript:;" class="mdui-btn mdui-btn-icon">*/}}
{{/*        </a>*/}}
        <a href="javascript:;" class="mdui-typo-headline" onclick="gotoDir('/')">Andex云盘</a>
        <a href="javascript:;" class="mdui-typo-title"></a>
        <div class="mdui-toolbar-spacer"></div>
    </div>
</div>

<div class="mdui-container" style="min-height: calc(100vh - 200px);">

    <div class="mdui-card mdui-m-t-4">
        <div class="mdui-card-actions mdui-card-actions-stacked mdui-m-t-1 mdui-m-b-1">

            {{range $i, $navPath := .navPathList}}
                {{if not $navPath.Last}}
                    <div class="mdui-chip" onclick="gotoDir('{{$navPath.Path}}')">
                        <span class="mdui-chip-title">{{$navPath.Name}}</span>
                    </div>
                    <span>/</span>
                {{else}}
                    <div class="mdui-chip mdui-color-blue mdui-text-color-white"  onclick="gotoDir('{{$navPath.Path}}')">
                        <span class="mdui-chip-title">{{$navPath.Name}}</span>
                    </div>
                {{end}}
            {{end}}
        </div>
    </div>

    <div class="mdui-table-fluid mdui-m-y-2 ">
        <table class="mdui-table mdui-table-hoverable">
            <thead>
            <tr>
                <th>名称</th>
                <th class="mdui-hidden-sm-down">创建</th>
                <th class="mdui-hidden-sm-down">更新</th>
                <th>大小</th>
            </tr>
            </thead>
            <tbody>
            {{range $i, $detail := .pathDetail}}

                <tr data-href="{{$detail.Path}}" data-type="{{$detail.Type}}" onclick="gotoDir('{{$detail.Path}}')">
                    <td>
                        <p style="word-break:break-all;
                            width:auto;
                            display:block;
                            word-wrap : break-word ;
                            overflow: hidden ;
                            white-space:normal">
                            {{if eq $detail.Type "folder"}}
                                <i class="mdui-icon material-icons mdui-m-r-1">folder</i>
                            {{else}}
                                <i class="mdui-icon material-icons mdui-m-r-1">insert_drive_file</i>
                            {{end}}
                                {{$detail.Name}}
                        </p>
                    </td>
                    <td class="mdui-hidden-sm-down" style="width: 15%;">{{$detail.CreateTime}}</td>
                    <td class="mdui-hidden-sm-down" style="width: 15%;">{{$detail.UpdateTime}}</td>
                    <td style="width: 5%;">{{$detail.Size}}</td>
                </tr>

            {{end}}

            </tbody>
        </table>

    </div>
</div>

<div class="doc-footer-nav mdui-color-white mdui-p-t-2 mdui-p-b-1" style="height: 40px">
    <div class="mdui-center mdui-text-center ">
        <p class="mdui-center" style="font-size: 14px;">
            Power by <a href="https://github.com/Ericwyn/Andex">Andex</a>
            <span class="mdui-m-x-2">|</span>数据请求: {{.apiRequestTime}}
        </p>
    </div>
</div>

</body>
<script type="text/javascript" src="./js/mdui.js"></script>
<script type="text/javascript" src="./js/andex.js"></script>
</html>
